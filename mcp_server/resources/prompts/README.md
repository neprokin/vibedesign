# Шаблоны промптов для MCP-сервера

Данная директория содержит шаблоны промптов для взаимодействия с LLM. Шаблоны используют синтаксис Jinja2.

## Структура шаблона

Каждый шаблон должен начинаться с блока метаданных в формате JSON, заключенного в комментарии Jinja2 `{# ... #}`:

```jinja
{# 
{
  "description": "Описание шаблона",
  "parameters": {
    "param1": {
      "description": "Описание параметра 1",
      "default": "значение по умолчанию"
    },
    "param2": {
      "description": "Описание параметра 2"
    }
  },
  "category": "категория_шаблона"
}
#}

Текст промпта с использованием {{ param1 }} и {{ param2 }}
```

## Доступные шаблоны

### Категория "design"

- **analyze_design.j2** - Анализ дизайна и предложение улучшений
- **generate_variants.j2** - Генерация вариантов UI-компонента

### Категория "general"

- **custom_prompt.j2** - Базовый шаблон для кастомных запросов

## Использование в коде

```python
# Получение списка шаблонов
templates = prompt_manager.list_templates()

# Получение списка шаблонов определенной категории
design_templates = prompt_manager.list_templates(category="design")

# Рендеринг шаблона
prompt = prompt_manager.render_template("analyze_design.j2", {
    "design_data": {...},
    "criteria": ["Контраст", "Отступы", "Типографика"]
})

# Создание нового шаблона
prompt_manager.create_template(
    template_name="my_template.j2",
    content="Текст шаблона с {{ параметром }}",
    metadata={
        "description": "Мой шаблон",
        "parameters": {
            "параметром": {
                "description": "Описание параметра"
            }
        },
        "category": "custom"
    }
)
```

## Разработка новых шаблонов

При создании новых шаблонов рекомендуется:

1. Использовать ясные и информативные названия шаблонов
2. Добавлять подробное описание шаблона и его параметров
3. Группировать шаблоны по категориям
4. Включать примеры ожидаемого ответа в текст промпта
5. Использовать условные конструкции Jinja2 для гибкости шаблона

## Фильтры Jinja2

В шаблонах доступны следующие фильтры:

- `tojson` - преобразование объекта в JSON-строку
- все стандартные фильтры Jinja2 